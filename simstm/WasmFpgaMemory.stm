CALL $MAIN
FINISH

MAIN:
BEGIN_SUB
	MESSAGE 0 "TESTBENCH: WASM_FPGA_MEMORY"

	WAIT_NS 5000

	CALL $TEST_READ_WRITE

	RETURN_CALL
END_SUB

TEST_READ_WRITE:
BEGIN_SUB
	MESSAGE 0 "TEST_READ_WRITE"
	
	EQU_VAR RAM_ADDRESS #x0
	WRITE_FPGA 32 $RAM_ADDRESS #x11223344
	VERIFY_FPGA 32 $RAM_ADDRESS RAM_VALUE #x11223344 #xFFFFFFFF

	RETURN_CALL
END_SUB

INCLUDE "Defines.stm"
